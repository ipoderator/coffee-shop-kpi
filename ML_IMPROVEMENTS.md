# –£–ª—É—á—à–µ–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏ ML –º–æ–¥–µ–ª–∏ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è

## üìä –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç ML –º–æ–¥–µ–ª—å

ML –º–æ–¥–µ–ª—å (`EnhancedMLForecastingEngine` –≤ `server/utils/enhancedMLForecasting.ts`) –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç:

### 1. **Transaction –¥–∞–Ω–Ω—ã–µ** (–∏–∑ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤)
- **–ò—Å—Ç–æ—á–Ω–∏–∫**: Excel/CSV/PDF —Ñ–∞–π–ª—ã, –∑–∞–≥—Ä—É–∂–∞–µ–º—ã–µ —á–µ—Ä–µ–∑ `/api/upload`
- **–ü–∞—Ä—Å–∏–Ω–≥**: `server/utils/fileParser.ts`
- **–•—Ä–∞–Ω–µ–Ω–∏–µ**: –¢–∞–±–ª–∏—Ü–∞ `transactions` –≤ PostgreSQL
- **–ü–æ–ª—è**: –¥–∞—Ç–∞, –≤—ã—Ä—É—á–∫–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–µ–∫–æ–≤, –º–µ—Ç–æ–¥—ã –æ–ø–ª–∞—Ç—ã, –≤–æ–∑–≤—Ä–∞—Ç—ã

### 2. **ProfitabilityRecord –¥–∞–Ω–Ω—ã–µ** (Z-–æ—Ç—á–µ—Ç—ã)
- **–ò—Å—Ç–æ—á–Ω–∏–∫**: Excel —Ñ–∞–π–ª—ã —Å Z-–æ—Ç—á–µ—Ç–∞–º–∏, –∑–∞–≥—Ä—É–∂–∞–µ–º—ã–µ —á–µ—Ä–µ–∑ `/api/profitability/upload`
- **–§–æ—Ä–º–∞—Ç—ã**: F1 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Z-–æ—Ç—á–µ—Ç) –∏–ª–∏ F2 (–ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç)
- **–•—Ä–∞–Ω–µ–Ω–∏–µ**: –¢–∞–±–ª–∏—Ü–∞ `profitability_records` –≤ PostgreSQL
- **–í–∞–∂–Ω—ã–µ –ø–æ–ª—è**: 
  - `cogsTotal` (—Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å) - **–ö–†–ò–¢–ò–ß–ù–û –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏**
  - `grossProfit` (–≤–∞–ª–æ–≤–∞—è –ø—Ä–∏–±—ã–ª—å)
  - `grossMargin` (–≤–∞–ª–æ–≤–∞—è –º–∞—Ä–∂–∞)
  - –í–æ–∑–≤—Ä–∞—Ç—ã –∏ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏

### 3. **–í–Ω–µ—à–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–ü–æ–≥–æ–¥–∞**: OpenWeather API
- **–≠–∫–æ–Ω–æ–º–∏–∫–∞**: ExchangeRate API, Alpha Vantage, FRED
- **–ü—Ä–∞–∑–¥–Ω–∏–∫–∏**: Calendarific API
- **–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏**: Twitter API, News API

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é —Ç–æ—á–Ω–æ—Å—Ç–∏

### 1. **–ö–∞—á–µ—Å—Ç–≤–æ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö** (–ö–†–ò–¢–ò–ß–ù–û)

#### ‚úÖ –ú–∏–Ω–∏–º—É–º –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö–æ—Ä–æ—à–µ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞:
- **30+ –¥–Ω–µ–π** –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö (—Ç–µ–∫—É—â–∏–π –º–∏–Ω–∏–º—É–º - 14 –¥–Ω–µ–π)
- **Z-–æ—Ç—á–µ—Ç—ã —Å COGS** (—Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å) - —ç—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –Ω–∞ 15-20%
- **–ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: –º–µ—Ç–æ–¥—ã –æ–ø–ª–∞—Ç—ã, –≤–æ–∑–≤—Ä–∞—Ç—ã, –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏

#### ‚úÖ –ß—Ç–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å:
1. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** —á–µ—Ä–µ–∑ `/api/upload`:
   - Excel/CSV —Å –¥–∞—Ç–∞–º–∏, –≤—ã—Ä—É—á–∫–æ–π, –º–µ—Ç–æ–¥–∞–º–∏ –æ–ø–ª–∞—Ç—ã
   - –ú–∏–Ω–∏–º—É–º 1 –º–µ—Å—è—Ü –¥–∞–Ω–Ω—ã—Ö
   
2. **Z-–æ—Ç—á–µ—Ç—ã** —á–µ—Ä–µ–∑ `/api/profitability/upload`:
   - –§–æ—Ä–º–∞—Ç F1: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Z-–æ—Ç—á–µ—Ç —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏:
     - –î–∞—Ç–∞/–≤—Ä–µ–º—è
     - –ß–µ–∫–æ–≤ –ø—Ä–∏—Ö–æ–¥–∞
     - –ü—Ä–∏—Ö–æ–¥ –Ω–∞–ª–∏—á–Ω—ã–º–∏ / –±–µ–∑–Ω–∞–ª–∏—á–Ω—ã–º–∏
     - –í–æ–∑–≤—Ä–∞—Ç—ã
     - –ö–æ—Ä—Ä–µ–∫—Ü–∏–∏
     - **–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å (COGS)** - –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ!
   - –§–æ—Ä–º–∞—Ç F2: –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å –ø–æ—Ö–æ–∂–∏–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏

### 2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö API** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —É–ª—É—á—à–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å)

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
```env
# –ü–æ–≥–æ–¥–∞ (—É–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 5-10%)
OPENWEATHER_API_KEY=your_key

# –≠–∫–æ–Ω–æ–º–∏–∫–∞ (—É–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 3-5%)
EXCHANGERATE_API_KEY=your_key
ALPHA_VANTAGE_API_KEY=your_key
FRED_API_KEY=your_key

# –ü—Ä–∞–∑–¥–Ω–∏–∫–∏ (—É–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 2-5%)
CALENDARIFIC_API_KEY=your_key
```

### 3. **–£–ª—É—á—à–µ–Ω–∏—è –≤ –∫–æ–¥–µ** (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ —ç—Ç–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏)

#### ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–∞–ª—ã—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤
- –ë–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–≥–Ω–æ–∑—ã –¥–ª—è < 30 –¥–Ω–µ–π –¥–∞–Ω–Ω—ã—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ–¥–∏–∞–Ω—ã –≤–º–µ—Å—Ç–æ —Å—Ä–µ–¥–Ω–µ–≥–æ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

#### ‚úÖ –õ—É—á—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞–Ω–æ–º–∞–ª–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –≤—ã–±—Ä–æ—Å–æ–≤ (IQR –º–µ—Ç–æ–¥)
- –°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

#### ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –≤–µ—Å–∞ –º–æ–¥–µ–ª–µ–π —Å –∫—Ä–æ—Å—Å-–≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- **–ö—Ä–æ—Å—Å-–≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö** (–Ω–æ–≤–æ–µ!)
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ (70%) —Å–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ (30%)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –Ω–∞ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

#### ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∏–∑ Z-–æ—Ç—á–µ—Ç–æ–≤
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏ (COGS) –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∞** (–Ω–æ–≤–æ–µ!)
- –£—á–µ—Ç –≤–∞–ª–æ–≤–æ–π –º–∞—Ä–∂–∏ –∏ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤
- **–§–∞–∫—Ç–æ—Ä —Ä–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏** - —É—á–∏—Ç—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫—É—é –º–∞—Ä–∂—É –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –ø—Ä–æ–≥–Ω–æ–∑–∞
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –¥–ª—è –ª—É—á—à–µ–π —Ä–∞–±–æ—Ç—ã LSTM

#### ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- Z-score –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –≤—ã—Ä—É—á–∫–∏
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∏–∑ Z-–æ—Ç—á–µ—Ç–æ–≤
- –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ LSTM –º–æ–¥–µ–ª–∏

#### ‚úÖ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è –∞–Ω–æ–º–∞–ª–∏–π (–Ω–æ–≤–æ–µ!)
- **5 –º–µ—Ç–æ–¥–æ–≤ –¥–µ—Ç–µ–∫—Ü–∏–∏**: IQR, Z-score, Isolation Forest, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–Ω–æ–º–∞–ª–∏–∏, –∫–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω—ã–µ –∞–Ω–æ–º–∞–ª–∏–∏
- **–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤** - –∞–Ω–æ–º–∞–ª–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º 2 –º–µ—Ç–æ–¥–∞–º–∏
- –£—á–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (–¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏, –ø—Ä–∞–∑–¥–Ω–∏–∫–∏) –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π
- –ë–æ–ª–µ–µ —Ç–æ—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±—Ä–æ—Å–æ–≤

#### ‚úÖ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –õ–∏–ø–µ—Ü–∫–∞, –†–æ—Å—Å–∏—è (–Ω–æ–≤–æ–µ!)
- **–ü–æ–≥–æ–¥–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã –¥–ª—è –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –∫–ª–∏–º–∞—Ç–∞**:
  - –ó–∏–º–∞: –≤—ã—Å–æ–∫–∏–π —Å–ø—Ä–æ—Å –Ω–∞ –≥–æ—Ä—è—á–∏–π –∫–æ—Ñ–µ
  - –õ–µ—Ç–æ: —É—á–µ—Ç —Ö–æ–ª–æ–¥–Ω—ã—Ö –Ω–∞–ø–∏—Ç–∫–æ–≤
  - –î–µ—Ç–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Å–∞–¥–∫–æ–≤, –≤–µ—Ç—Ä–∞, —Ç—É–º–∞–Ω–∞
- **–†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–ø—Ä–æ—Å –Ω–∞ –∫–æ—Ñ–µ**:
  - –°–µ–∑–æ–Ω–Ω–æ—Å—Ç—å –¥–ª—è –õ–∏–ø–µ—Ü–∫–∞ (–∑–∏–º–∞ +15%, –æ—Å–µ–Ω—å +12%, –ª–µ—Ç–æ +3%)
  - –£—á–µ—Ç –¥–Ω—è –Ω–µ–¥–µ–ª–∏ –∏ –¥–Ω—è –º–µ—Å—è—Ü–∞ (–∑–∞—Ä–ø–ª–∞—Ç–∞)
  - –ê–Ω–∞–ª–∏–∑ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–µ–Ω–¥–æ–≤ —Å–ø—Ä–æ—Å–∞
- **–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã –¥–ª—è –†–æ—Å—Å–∏–∏**:
  - –ö—É—Ä—Å USD/RUB —Å —É—á–µ—Ç–æ–º –≤–ª–∏—è–Ω–∏—è –Ω–∞ –∫–æ—Ñ–µ
  - –ò–Ω—Ñ–ª—è—Ü–∏—è —Å –ø–æ—Ä–æ–≥–∞–º–∏ –¥–ª—è –†–æ—Å—Å–∏–∏ (>8% = -12%, <3% = +5%)
  - –ë–µ–∑—Ä–∞–±–æ—Ç–∏—Ü–∞ —Å –±–∞–∑–æ–≤—ã–º —É—Ä–æ–≤–Ω–µ–º 3.2%

#### ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏ (–Ω–æ–≤–æ–µ!)
- **–ú–Ω–æ–≥–æ—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö (15%)
  - –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö (10%)
  - –ü–æ–ª–Ω–æ—Ç–∞ –¥–∞–Ω–Ω—ã—Ö - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–ø—É—Å–∫–æ–≤ (8%)
  - –í–Ω–µ—à–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ (–ø–æ–≥–æ–¥–∞, —ç–∫–æ–Ω–æ–º–∏–∫–∞, —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏)
  - –î–∞–Ω–Ω—ã–µ –∏–∑ Z-–æ—Ç—á–µ—Ç–æ–≤ —Å COGS (+20% —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏)
  - –ë–æ–Ω—É—Å –∑–∞ –¥–ª–∏–Ω–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é (–¥–æ 5% –∑–∞ 200+ –¥–Ω–µ–π)
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –¥–æ 98%** (–±—ã–ª–æ 95%)

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏

| –§–∞–∫—Ç–æ—Ä | –£–ª—É—á—à–µ–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏ |
|--------|-------------------|
| –î–∞–Ω–Ω—ã–µ –∏–∑ Z-–æ—Ç—á–µ—Ç–æ–≤ —Å COGS | +15-20% |
| 30+ –¥–Ω–µ–π –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö | +10-15% |
| –í–Ω–µ—à–Ω–∏–µ API (–ø–æ–≥–æ–¥–∞, —ç–∫–æ–Ω–æ–º–∏–∫–∞) | +5-10% |
| –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è –∞–Ω–æ–º–∞–ª–∏–π (5 –º–µ—Ç–æ–¥–æ–≤) | +8-12% |
| –ö—Ä–æ—Å—Å-–≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –º–æ–¥–µ–ª–µ–π | +8-12% |
| –£–ª—É—á—à–µ–Ω–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ | +5-7% |
| –§–∞–∫—Ç–æ—Ä —Ä–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–∑ COGS | +3-5% |
| –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –õ–∏–ø–µ—Ü–∫–∞ (–ø–æ–≥–æ–¥–∞, —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–ø—Ä–æ—Å) | +10-15% |
| –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã –¥–ª—è –†–æ—Å—Å–∏–∏ | +5-8% |
| –£–ª—É—á—à–µ–Ω–Ω–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å (–º–Ω–æ–≥–æ—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è) | +5-8% |
| **–ò—Ç–æ–≥–æ (–ø—Ä–∏ –≤—Å–µ—Ö —É–ª—É—á—à–µ–Ω–∏—è—Ö)** | **+74-112%** |

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ `/api/upload` (–º–∏–Ω–∏–º—É–º 30 –¥–Ω–µ–π)
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ Z-–æ—Ç—á–µ—Ç—ã —á–µ—Ä–µ–∑ `/api/profitability/upload` (—Ç–µ –∂–µ –¥–∞—Ç—ã)

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ API –∫–ª—é—á–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
```env
OPENWEATHER_API_KEY=your_key
EXCHANGERATE_API_KEY=your_key
CALENDARIFIC_API_KEY=your_key
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Z-–æ—Ç—á–µ—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–æ–ª–æ–Ω–∫—É —Å —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å—é (COGS)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–µ—Ç –ø—Ä–æ–ø—É—Å–∫–æ–≤ –≤ –¥–∞—Ç–∞—Ö

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê–Ω—Å–∞–º–±–ª—å –º–æ–¥–µ–ª–µ–π
ML –º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 6 –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤:
1. **ARIMA** (20% –≤–µ—Å–∞) - –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤
2. **Prophet** (25% –≤–µ—Å–∞) - –¥–ª—è —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏ –∏ —Ç—Ä–µ–Ω–¥–æ–≤
3. **LSTM** (20% –≤–µ—Å–∞) - –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
4. **RandomForest** (15% –≤–µ—Å–∞) - –¥–ª—è –Ω–µ–ª–∏–Ω–µ–π–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
5. **XGBoost** (15% –≤–µ—Å–∞) - –¥–ª—è –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω–æ–≥–æ –±—É—Å—Ç–∏–Ω–≥–∞
6. **GradientBoosting** (5% –≤–µ—Å–∞) - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –±—É—Å—Ç–∏–Ω–≥

### –ü—Ä–∏–∑–Ω–∞–∫–∏ (features)
–ú–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 50+ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤:
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ: –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏, –º–µ—Å—è—Ü, –∫–≤–∞—Ä—Ç–∞–ª, —Å–µ–∑–æ–Ω
- –ë–∏–∑–Ω–µ—Å: –≤—ã—Ä—É—á–∫–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–µ–∫–æ–≤, —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫
- –ò–∑ Z-–æ—Ç—á–µ—Ç–æ–≤: —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å, –≤–∞–ª–æ–≤–∞—è –º–∞—Ä–∂–∞, –≤–æ–∑–≤—Ä–∞—Ç—ã
- –í–Ω–µ—à–Ω–∏–µ: –ø–æ–≥–æ–¥–∞, —ç–∫–æ–Ω–æ–º–∏–∫–∞, –ø—Ä–∞–∑–¥–Ω–∏–∫–∏
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ: —Å–∫–æ–ª—å–∑—è—â–∏–µ —Å—Ä–µ–¥–Ω–∏–µ, –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, —Ç—Ä–µ–Ω–¥

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–æ–≥–Ω–æ–∑–∞
- –ü—Ä–æ–≥–Ω–æ–∑ —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ –¥–ª—è –ø–µ—Ä–≤—ã—Ö 3-5 –¥–Ω–µ–π
- –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å —Å–Ω–∏–∂–∞–µ—Ç—Å—è —Å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–æ–≥–Ω–æ–∑–∞ (horizon decay)
- –ú–∏–Ω–∏–º—É–º 14 –¥–Ω–µ–π –¥–∞–Ω–Ω—ã—Ö (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 30+)

## üîç –û—Ç–ª–∞–¥–∫–∞

–í–∫–ª—é—á–∏—Ç–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏:
```bash
DEBUG_ENSEMBLE=true npm run dev
```

–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç:
- –í–µ—Å–∞ –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏
- –í–∫–ª–∞–¥ –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏ –≤ –ø—Ä–æ–≥–Ω–æ–∑
- –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª ML: `server/utils/enhancedMLForecasting.ts`
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö: `server/utils/enhancedDataIntegration.ts`
- –ü–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤: `server/utils/fileParser.ts`
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞: `server/utils/analytics.ts`

